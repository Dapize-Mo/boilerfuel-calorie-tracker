@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {

  html, body {
    overflow-x: hidden;
    max-width: 100vw;
  }

  :root,
  .light {
    color-scheme: light;

    /* Light mode color palette - Premium Clean */
    --color-bg-primary: 248 250 252;
    /* slate-50 */
    --color-bg-secondary: 255 255 255;
    /* white */
    --color-bg-tertiary: 241 245 249;
    /* slate-100 */
    --color-bg-hover: 226 232 240;
    /* slate-200 */

    --color-text-primary: 15 23 42;
    /* slate-900 */
    --color-text-secondary: 51 65 85;
    /* slate-700 */
    --color-text-tertiary: 100 116 139;
    /* slate-500 */

    --color-border-primary: 226 232 240;
    /* slate-200 */
    --color-border-secondary: 203 213 225;
    /* slate-300 */
    --color-border-light: 241 245 249;
    /* slate-100 */
    --color-border-focus: 15 23 42;
    /* slate-900 */

    --color-text-muted: 148 163 184;
    /* slate-400 */

    --color-accent-primary: 234 179 8;
    /* yellow-500 */
    --color-accent-hover: 202 138 4;
    /* yellow-600 */
    --color-accent-light: 250 204 21;
    /* yellow-400 */

    --color-success: 34 197 94;
    /* green-500 */
    --color-error: 239 68 68;
    /* red-500 */
    --color-info: 59 130 246;
    /* blue-500 */
    --color-purple: 168 85 247;
    /* purple-500 */

    --color-card-bg: 255 255 255;
    /* white */
    --color-card-border: 226 232 240;
    /* slate-200 */
    --color-sidebar-bg: 255 255 255 / 0.8;
    /* white/80 */
    --color-sidebar-border: 226 232 240;
    /* slate-200 */
  }

  .dark {
    color-scheme: dark;

    /* Dark mode color palette - Premium Deep */
    --color-bg-primary: 10 10 10;
    /* nearly black */
    --color-bg-secondary: 23 23 23;
    /* neutral-900 */
    --color-bg-tertiary: 38 38 38;
    /* neutral-800 */
    --color-bg-hover: 42 42 42;
    /* neutral-750 */

    --color-text-primary: 250 250 250;
    /* neutral-50 */
    --color-text-secondary: 163 163 163;
    /* neutral-400 */
    --color-text-tertiary: 115 115 115;
    /* neutral-500 */

    --color-border-primary: 38 38 38;
    /* neutral-800 */
    --color-border-secondary: 51 51 51;
    /* neutral-700 */
    --color-border-light: 23 23 23;
    /* neutral-900 */
    --color-border-focus: 250 204 21;
    /* yellow-400 */

    --color-text-muted: 82 82 82;
    /* neutral-600 */

    --color-accent-primary: 250 204 21;
    /* yellow-400 */
    --color-accent-hover: 234 179 8;
    /* yellow-500 */
    --color-accent-light: 253 224 71;
    /* yellow-300 */

    --color-success: 34 197 94;
    /* green-500 */
    --color-error: 239 68 68;
    /* red-500 */
    --color-info: 59 130 246;
    /* blue-500 */
    --color-purple: 168 85 247;
    /* purple-500 */

    --color-card-bg: 23 23 23;
    /* neutral-900 */
    --color-card-border: 38 38 38;
    /* neutral-800 */
    --color-sidebar-bg: 10 10 10 / 0.6;
    /* nearly black/60 */
    --color-sidebar-border: 38 38 38;
    /* neutral-800 */
  }

  /* Disable transitions until theme is loaded to prevent flash */
  html:not(.theme-loaded) * {
    transition: none !important;
  }

  /* Enable smooth transitions once theme is loaded */
  html.theme-loaded * {
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 200ms;
  }
}

body {
  margin: 0;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: rgb(var(--color-bg-primary));
  color: rgb(var(--color-text-primary));
  background-image: 
    radial-gradient(at 0% 0%, rgba(250, 204, 21, 0.08) 0px, transparent 50%),
    radial-gradient(at 100% 100%, rgba(168, 85, 247, 0.08) 0px, transparent 50%);
  background-attachment: fixed;
}

.dark body {
  background-image: 
    radial-gradient(at 0% 0%, rgba(250, 204, 21, 0.12) 0px, transparent 50%),
    radial-gradient(at 100% 100%, rgba(168, 85, 247, 0.12) 0px, transparent 50%);
}

::selection {
  background: rgba(250, 204, 21, 0.3);
  color: rgba(15, 23, 42, 1);
}

/* Row fade-in animation for food table */
@keyframes fadeInRow {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Tooltip entrance */
@keyframes fadeInTooltip {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Scroll hint bounce */
@keyframes scrollHintBounce {
  0%, 100% { transform: translateX(-50%) translateY(0); }
  50% { transform: translateX(-50%) translateY(6px); }
}

/* Station header slide-in */
@keyframes slideInStation {
  from {
    opacity: 0;
    transform: translateX(-8px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Date input black & white styling */
.date-input::-webkit-calendar-picker-indicator {
  filter: invert(1);
  cursor: pointer;
  opacity: 0.7;
}
.date-input::-webkit-calendar-picker-indicator:hover {
  opacity: 1;
}
.light .date-input::-webkit-calendar-picker-indicator {
  filter: none;
}
input[type="date"].date-input {
  color-scheme: dark;
}
.light input[type="date"].date-input {
  color-scheme: light;
}

/* Focus styles for keyboard users */
:where(a, button, input, select, textarea):focus-visible {
  outline: 2px solid rgba(250, 204, 21, 0.85);
  outline-offset: 2px;
  border-radius: 0.375rem;
}

/* Subtle background texture - light mode */
.bg-slate-950 {
  background-image:
    radial-gradient(1200px 700px at 100% -20%, rgba(250, 204, 21, 0.04), transparent 60%),
    radial-gradient(1000px 500px at -10% 10%, rgba(59, 130, 246, 0.03), transparent 60%),
    radial-gradient(800px 600px at 50% 120%, rgba(16, 185, 129, 0.03), transparent 60%);
}

/* Subtle background texture - dark mode */
.dark .bg-slate-950 {
  background-image:
    radial-gradient(1200px 700px at 100% -20%, rgba(250, 204, 21, 0.06), transparent 60%),
    radial-gradient(1000px 500px at -10% 10%, rgba(59, 130, 246, 0.05), transparent 60%),
    radial-gradient(800px 600px at 50% 120%, rgba(16, 185, 129, 0.05), transparent 60%);
}

/* Glassmorphism utilities */
@layer utilities {
  .glass {
    @apply backdrop-blur-xl bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10;
  }

  .glass-strong {
    @apply backdrop-blur-2xl bg-white/20 dark:bg-black/30 border border-white/30 dark:border-white/15;
  }

  .glass-card {
    @apply backdrop-blur-lg bg-white/5 dark:bg-black/10 border border-white/10 dark:border-white/5 rounded-2xl;
  }

  /* Bento grid utilities */
  .bento-item {
    @apply glass-card p-6 transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl;
  }

  .bento-item-lg {
    @apply col-span-2 row-span-2;
  }

  .bento-item-wide {
    @apply col-span-2;
  }

  .bento-item-tall {
    @apply row-span-2;
  }

  /* Immersive scroll effects */
  .scroll-fade-in {
    animation: fadeInUp 0.6s ease-out forwards;
    opacity: 0;
  }

  .scroll-parallax {
    will-change: transform;
  }

  /* Hover glow effects */
  .glow-hover {
    @apply relative transition-all duration-300;
  }

  .glow-hover::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    padding: 2px;
    background: linear-gradient(135deg, rgba(250, 204, 21, 0.5), rgba(234, 179, 8, 0.5));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .glow-hover:hover::before {
    opacity: 1;
  }

  .glow-hover::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: radial-gradient(circle at center, rgba(250, 204, 21, 0.15), transparent 70%);
    opacity: 0;
    filter: blur(20px);
    transition: opacity 0.3s ease;
    z-index: -1;
  }

  .glow-hover:hover::after {
    opacity: 1;
  }

  /* Glow variants for different colors */
  .glow-yellow:hover {
    box-shadow: 0 0 20px rgba(250, 204, 21, 0.4), 0 0 40px rgba(250, 204, 21, 0.2);
  }

  .glow-blue:hover {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.4), 0 0 40px rgba(59, 130, 246, 0.2);
  }

  .glow-green:hover {
    box-shadow: 0 0 20px rgba(34, 197, 94, 0.4), 0 0 40px rgba(34, 197, 94, 0.2);
  }

  .glow-purple:hover {
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.4), 0 0 40px rgba(168, 85, 247, 0.2);
  }

  .glow-orange:hover {
    box-shadow: 0 0 20px rgba(249, 115, 22, 0.4), 0 0 40px rgba(249, 115, 22, 0.2);
  }

  /* Subtle glow for cards */
  .card-glow {
    @apply transition-all duration-300;
  }

  .card-glow:hover {
    box-shadow:
      0 0 30px rgba(250, 204, 21, 0.15),
      0 0 60px rgba(250, 204, 21, 0.1),
      0 10px 30px rgba(0, 0, 0, 0.2);
    transform: translateY(-2px);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Custom scrollbar - light mode */
::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: rgb(var(--color-bg-secondary));
}

::-webkit-scrollbar-thumb {
  background: rgb(var(--color-border-primary));
  border-radius: 6px;
  border: 2px solid rgb(var(--color-bg-secondary));
}

::-webkit-scrollbar-thumb:hover {
  background: rgb(var(--color-text-tertiary));
}

/* Dark mode scrollbar */
.dark ::-webkit-scrollbar-track {
  background: rgb(var(--color-bg-secondary));
}

.dark ::-webkit-scrollbar-thumb {
  background: rgb(var(--color-bg-tertiary));
  border: 2px solid rgb(var(--color-bg-secondary));
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: rgb(var(--color-bg-hover));
}

/* Motion safety for users preferring reduced motion */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  html {
    scroll-behavior: auto;
  }
}

/* Hide Vercel Toolbar */
vercel-live-feedback {
  display: none !important;
}

/* Force black background for hero in dark mode */
.dark .bg-hero-black {
  background-color: #000000 !important;
}

/* Modern gradient backgrounds */
.gradient-warm {
  background: linear-gradient(135deg, rgb(250, 204, 21) 0%, rgb(251, 146, 60) 100%);
}

.gradient-cool {
  background: linear-gradient(135deg, rgb(59, 130, 246) 0%, rgb(168, 85, 247) 100%);
}

.gradient-success {
  background: linear-gradient(135deg, rgb(34, 197, 94) 0%, rgb(16, 185, 129) 100%);
}

.gradient-mesh {
  background:
    radial-gradient(at 27% 37%, rgba(250, 204, 21, 0.12) 0px, transparent 50%),
    radial-gradient(at 97% 21%, rgba(168, 85, 247, 0.1) 0px, transparent 50%),
    radial-gradient(at 52% 99%, rgba(59, 130, 246, 0.08) 0px, transparent 50%),
    radial-gradient(at 10% 29%, rgba(34, 197, 94, 0.06) 0px, transparent 50%);
}

/* Shimmer effect */
.shimmer {
  position: relative;
  overflow: hidden;
}

.shimmer::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% { left: -100%; }
  100% { left: 100%; }
}

/* Floating animation */
.floating {
  animation: floating 3s ease-in-out infinite;
}

@keyframes floating {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

/* Pulse glow */
.pulse-glow {
  animation: pulse-glow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(250, 204, 21, 0.4); }
  50% { box-shadow: 0 0 40px rgba(250, 204, 21, 0.8); }
}

/* Enhanced card styles */
.modern-card {
  background: rgb(var(--color-card-bg));
  border: 1px solid rgb(var(--color-card-border));
  border-radius: 1.5rem;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.modern-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 20px 60px -10px rgba(0, 0, 0, 0.3);
  border-color: rgba(250, 204, 21, 0.4);
}